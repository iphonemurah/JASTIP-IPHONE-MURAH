<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Jastip iPhone - Katalog Lengkap</title>
<style>
  :root{
    --bg:#0d0d0d; --card:#111; --muted:#222; --accent:#00cc66; --glass:rgba(255,255,255,0.03);
  }
  *{box-sizing:border-box}
  body{
    margin:0; font-family:Inter, system-ui, Arial; background:linear-gradient(160deg,#070707,var(--bg)); color:#fff;
  }
  header{
    padding:20px; text-align:center; font-size:28px; font-weight:700; letter-spacing:1px;
    background:linear-gradient(90deg,#07120a,#071219); border-bottom:1px solid rgba(255,255,255,0.03);
  }
  .wrap{max-width:1150px;margin:22px auto;padding:18px;}
  .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:16px;margin-bottom:22px;}
  .card{
    background:var(--card); border-radius:12px;padding:12px;border:1px solid rgba(255,255,255,0.03);
    transition:transform .18s, box-shadow .18s; box-shadow:0 6px 18px rgba(0,0,0,0.5);
  }
  .card:hover{transform:translateY(-6px);box-shadow:0 18px 40px rgba(0,0,0,0.7)}
  .card img{width:100%;height:160px;object-fit:cover;border-radius:10px}
  .card h4{margin:10px 0 4px;font-size:16px}
  .price{font-weight:700; color:var(--accent); margin-bottom:8px}
  .btn-select{width:100%;padding:10px;border-radius:8px;border:none;background:linear-gradient(90deg,var(--accent),#00ff99);color:#000;font-weight:700;cursor:pointer}
  .btn-select:hover{opacity:.95}
  .selected-card{outline:3px solid rgba(0,204,102,0.14); box-shadow:0 12px 30px rgba(0,204,102,0.06)}
  .panel{margin-top:18px;background:linear-gradient(180deg,rgba(255,255,255,0.02),var(--glass));padding:16px;border-radius:12px;border:1px solid rgba(255,255,255,0.03)}
  .row{display:flex;gap:12px}
  .col{flex:1}
  label{font-size:13px;opacity:.9}
  select,input,textarea{width:100%;padding:10px;border-radius:8px;border:none;background:var(--muted);color:#fff;margin-top:6px}
  textarea{min-height:80px;resize:vertical}
  .summary{margin-top:12px;background:#0f0f0f;padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.03)}
  .muted{opacity:.75;font-size:13px}
  .small{font-size:13px}
  .flex{display:flex;gap:8px;align-items:center}
  .badge{background:#ffdd57;color:#000;padding:4px 8px;border-radius:8px;font-weight:700;font-size:12px}
  @media (max-width:600px){ .row{flex-direction:column} .card img{height:140px} }
</style>
</head>
<body>
<header>Jastip iPhone Original — Katalog Lengkap (Semua Seri)</header>

<main class="wrap">
  <section>
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:10px">
      <div>
        <div class="badge">BEST SELLER</div>
        <div class="muted">Pilih seri iPhone lalu isi storage, warna, dan data diri di bawah.</div>
      </div>
      <div class="muted small">100% Original • Garansi IMEI • Packing Video</div>
    </div>

    <div id="cardsGrid" class="grid"></div>

    <div class="panel" id="selectionPanel" style="display:none;">
      <div class="row" style="align-items:center;">
        <div style="width:120px;">
          <img id="selImg" src="GANTI_FOTO_DEFAULT.jpg" style="width:120px;height:120px;object-fit:cover;border-radius:10px" />
        </div>
        <div class="col">
          <h3 id="selName">Nama iPhone</h3>
          <div class="price" id="selBasePrice">Rp 0</div>
          <div class="muted small" id="selHint">Pilih storage dan warna untuk melihat harga akhir</div>
        </div>
      </div>

      <hr style="margin:12px 0;border:none;border-top:1px solid rgba(255,255,255,0.03)">

      <div class="row">
        <div class="col">
          <label for="storageSelect">Pilih Storage</label>
          <select id="storageSelect"><option value="">-- Pilih Storage --</option></select>
        </div>
        <div class="col">
          <label for="colorSelect">Pilih Warna</label>
          <select id="colorSelect"><option value="">-- Pilih Warna --</option></select>
        </div>
      </div>

      <div style="margin-top:12px" class="row">
        <div class="col">
          <label for="nama">Nama lengkap</label>
          <input id="nama" placeholder="Nama lengkap" />
        </div>
        <div class="col">
          <label for="telepon">Nomor telepon</label>
          <input id="telepon" placeholder="08xxxxxxxxxx" />
        </div>
      </div>

      <div style="margin-top:12px" class="row">
        <div class="col">
          <label for="alamat">Alamat lengkap</label>
          <textarea id="alamat" placeholder="Alamat lengkap untuk kurir"></textarea>
        </div>
        <div style="width:200px">
          <label for="wa">WhatsApp aktif</label>
          <input id="wa" placeholder="08xxxxxxxxxx" />
        </div>
      </div>

      <div style="margin-top:12px" class="flex">
        <button id="btnCalc" class="btn-select" style="width:220px" onclick="calcAndPreview()">Hitung & Lihat Ringkasan</button>
        <div class="muted small">Harga naik +7% per level storage</div>
      </div>

      <div id="orderSummary" class="summary" style="display:none"></div>

      <!-- TOMBOL WA DI LUAR RINGKASAN -->
      <div id="waOuterBox" style="margin-top:18px; display:none;">
        <a id="waOuterButton" href="#" target="_blank" style="text-decoration:none;">
          <button class="btn-select" style="background:#25D366;color:#fff;font-weight:700;">
            Chat via WhatsApp
          </button>
        </a>
      </div>

    </div>
  </section>
</main>

<script>
const phoneData = {
  xr:{name:"iPhone XR", img:"IPHONE_XR.jpg", price:350000},
  "11":{name:"iPhone 11", img:"IPHONE_11.jpg", price:400000},
  "11pro":{name:"iPhone 11 Pro", img:"IPHONE_11PRO.jpg", price:450000},
  "11promax":{name:"iPhone 11 Pro Max", img:"IPHONE_11PM.jpg", price:500000},
  "12":{name:"iPhone 12", img:"IPHONE_12.jpg", price:450000},
  "12pro":{name:"iPhone 12 Pro", img:"IPHONE_12PRO.jpg", price:500000},
  "12promax":{name:"iPhone 12 Pro Max", img:"IPHONE_12PM.jpg", price:550000},
  "13":{name:"iPhone 13", img:"IPHONE_13.jpg", price:500000},
  "13pro":{name:"iPhone 13 Pro", img:"IPHONE_13PRO.jpg", price:550000},
  "13promax":{name:"iPhone 13 Pro Max", img:"IPHONE_13PM.jpg", price:600000},
  "14":{name:"iPhone 14", img:"IPHONE_14.jpg", price:600000},
  "14plus":{name:"iPhone 14 Plus", img:"IPHONE_14PLUS.jpg", price:635000},
  "14pro":{name:"iPhone 14 Pro", img:"IPHONE_14PRO.jpg", price:650000},
  "14promax":{name:"iPhone 14 Pro Max", img:"IPHONE_14PM.jpg", price:700000},
  "15":{name:"iPhone 15", img:"IPHONE_15.jpg", price:650000},
  "15plus":{name:"iPhone 15 Plus", img:"IPHONE_15PLUS.jpg", price:685000},
  "15pro":{name:"iPhone 15 Pro", img:"IPHONE_15PRO.jpg", price:700000},
  "15promax":{name:"iPhone 15 Pro Max", img:"IPHONE_15PM.jpg", price:750000}
};

const storageOptions = {
  xr:["64GB","128GB"],
  "11":["64GB","128GB","256GB"],
  "11pro":["64GB","256GB","512GB"],
  "11promax":["64GB","256GB","512GB"],
  "12":["64GB","128GB","256GB"],
  "12pro":["128GB","256GB","512GB"],
  "12promax":["128GB","256GB","512GB"],
  "13":["128GB","256GB","512GB"],
  "13pro":["128GB","256GB","512GB","1TB"],
  "13promax":["128GB","256GB","512GB","1TB"],
  "14":["128GB","256GB","512GB"],
  "14plus":["128GB","256GB","512GB"],
  "14pro":["128GB","256GB","512GB","1TB"],
  "14promax":["128GB","256GB","512GB","1TB"],
  "15":["128GB","256GB","512GB"],
  "15plus":["128GB","256GB","512GB"],
  "15pro":["128GB","256GB","512GB","1TB"],
  "15promax":["256GB","512GB","1TB"]
};

const colorOptions = {
  xr:["Black","White","Blue","Coral","Yellow","Red"],
  "11":["Black","White","Green","Purple","Yellow","Red"],
  "11pro":["Midnight Green","Space Grey","Silver","Gold"],
  "11promax":["Midnight Green","Space Grey","Silver","Gold"],
  "12":["Black","White","Blue","Green","Purple","Red"],
  "12pro":["Pacific Blue","Gold","Graphite","Silver"],
  "12promax":["Pacific Blue","Gold","Graphite","Silver"],
  "13":["Midnight","Starlight","Blue","Pink","Green","Red"],
  "13pro":["Alpine Green","Sierra Blue","Silver","Graphite","Gold"],
  "13promax":["Alpine Green","Sierra Blue","Silver","Graphite","Gold"],
  "14":["Midnight","Starlight","Purple","Blue","Red","Yellow"],
  "14plus":["Midnight","Starlight","Purple","Blue","Red","Yellow"],
  "14pro":["Deep Purple","Gold","Silver","Space Black"],
  "14promax":["Deep Purple","Gold","Silver","Space Black"],
  "15":["Black","Blue","Green","Pink","Yellow"],
  "15plus":["Black","Blue","Green","Pink","Yellow"],
  "15pro":["Black Titanium","White Titanium","Blue Titanium","Natural Titanium"],
  "15promax":["Black Titanium","White Titanium","Blue Titanium","Natural Titanium"]
};

const cardsGrid = document.getElementById('cardsGrid');
const order = ["xr","11","11pro","11promax","12","12pro","12promax","13","13pro","13promax","14","14plus","14pro","14promax","15","15plus","15pro","15promax"];

order.forEach(key=>{
  const d = phoneData[key];
  const card = document.createElement('div');
  card.className='card';
  card.innerHTML = `
    <img src="${d.img}" alt="${d.name}" loading="lazy" />
    <h4>${d.name}</h4>
    <div class="price">${formatRupiah(d.price)}</div>
    <button class="btn-select" data-key="${key}">Pilih Model</button>
  `;
  cardsGrid.appendChild(card);
});

let selectedModel=null;

cardsGrid.addEventListener('click',(e)=>{
  const btn=e.target.closest('.btn-select');
  if(!btn)return;
  const key=btn.dataset.key;
  selectModel(key,btn.closest('.card'));
});

function selectModel(key,cardEl){
  document.querySelectorAll('.card').forEach(c=>c.classList.remove('selected-card'));
  cardEl.classList.add('selected-card');

  selectedModel=key;
  const d=phoneData[key];

  document.getElementById('selectionPanel').style.display='block';
  document.getElementById('selImg').src=d.img;
  document.getElementById('selName').textContent=d.name;
  document.getElementById('selBasePrice').textContent=formatRupiah(d.price);

  const sSel=document.getElementById('storageSelect');
  const cSel=document.getElementById('colorSelect');

  sSel.innerHTML='<option value="">-- Pilih Storage --</option>';
  cSel.innerHTML='<option value="">-- Pilih Warna --</option>';

  storageOptions[key].forEach(x=>{
    const o=document.createElement('option');o.value=o.textContent=x;sSel.appendChild(o);
  });

  colorOptions[key].forEach(x=>{
    const o=document.createElement('option');o.value=o.textContent=x;cSel.appendChild(o);
  });

  setTimeout(()=>document.getElementById('selectionPanel').scrollIntoView({behavior:'smooth'}),80);
}

function calcPrice(model,storage){
  const base=phoneData[model].price;
  const list=storageOptions[model];
  const idx=list.indexOf(storage);
  if(idx<=0)return base;
  return Math.round(base*Math.pow(1.07,idx));
}

function formatRupiah(num){return 'Rp '+Number(num).toLocaleString('id-ID');}

function calcAndPreview(){
  if(!selectedModel){alert("Pilih salah satu model terlebih dahulu.");return;}

  const s=document.getElementById("storageSelect").value;
  const w=document.getElementById("colorSelect").value;
  const n=document.getElementById("nama").value.trim();
  const a=document.getElementById("alamat").value.trim();
  const t=document.getElementById("telepon").value.trim();
  const wa=document.getElementById("wa").value.trim();

  if(!s||!w||!n||!a||!t||!wa){
    alert("Lengkapi semua data terlebih dahulu.");
    return;
  }

  const final=calcPrice(selectedModel,s);

  // === RINGKASAN DALAM BOX ===
  const summary=document.getElementById("orderSummary");
  summary.style.display='block';
  summary.innerHTML=`
    <h3>Ringkasan Pesanan</h3>
    <p><b>Model:</b> ${phoneData[selectedModel].name}</p>
    <p><b>Storage:</b> ${s}</p>
    <p><b>Warna:</b> ${w}</p>
    <p><b>Harga:</b> ${formatRupiah(final)}</p>
    <p><b>Nama:</b> ${n}</p>
    <p><b>Alamat:</b> ${a}</p>
    <p><b>Telepon:</b> ${t}</p>
    <p><b>WhatsApp:</b> ${wa}</p>
    <br>

    <a href="GANTI_LINK_CHECKOUT">
      <button class="btn-select">Konfirmasi Pesanan</button>
    </a>
    <br><br>

    <a id="waButton" href="#" target="_blank">
      <button class="btn-select" style="background:#25D366;color:#fff;">Chat via WhatsApp</button>
    </a>
  `;

  // === AUTO PESAN WA ===
  let pesan =
`Halo kak, saya ingin memesan iPhone.

Model: ${phoneData[selectedModel].name}
Storage: ${s}
Warna: ${w}
Harga: ${formatRupiah(final)}

Nama: ${n}
Alamat: ${a}
Telepon: ${t}
WhatsApp: ${wa}

Apakah ready kak?`;

  let nomorWA = "6281385371544"; // ← ganti nomor kamu sendiri

  // WA di dalam ringkasan
  document.getElementById("waButton").href =
    "https://wa.me/" + nomorWA + "?text=" + encodeURIComponent(pesan);

  // WA di luar ringkasan
  document.getElementById("waOuterButton").href =
    "https://wa.me/" + nomorWA + "?text=" + encodeURIComponent(pesan);

  document.getElementById("waOuterBox").style.display = "block";

  setTimeout(()=>summary.scrollIntoView({behavior:'smooth'}),80);
}
</script>

</body>
</html>
