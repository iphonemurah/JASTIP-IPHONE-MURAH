<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ringkasan Pesanan - Jastip iPhone</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#0b0b0c;
  --card:#111;
  --text:#fff;
  --accent:#00cc66;
}
*{box-sizing:border-box;}
body{
  margin:0;
  font-family: 'Inter', sans-serif;
  background: linear-gradient(160deg,#060607,var(--bg));
  color: var(--text);
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:flex-start;
  padding:20px;
}
.card{
  background: linear-gradient(180deg, rgba(255,255,255,0.01), var(--card));
  padding:20px;
  border-radius:16px;
  max-width:500px;
  width:100%;
  box-shadow: 0 10px 40px rgba(0,0,0,0.6);
  backdrop-filter: blur(8px);
  border:1px solid rgba(255,255,255,0.08);
  transition: transform .25s ease;
}
.card:hover{transform: translateY(-4px);}
h2{
  margin-top:0;
  margin-bottom:12px;
  color: var(--accent);
  text-align:center;
  font-size:22px;
}
img{
  width:100%;
  border-radius:12px;
  margin-bottom:12px;
  transition: transform .3s ease;
}
img:hover{transform: scale(1.03);}
p{margin:6px 0; font-size:15px;}
.glass-btn{
  display:inline-flex;
  justify-content:center;
  align-items:center;
  gap:8px;
  padding:10px 14px;
  margin-top:12px;
  width:100%;
  border-radius:12px;
  font-weight:600;
  cursor:pointer;
  text-decoration:none;
  text-align:center;
  backdrop-filter: blur(8px);
  transition: transform .15s, box-shadow .15s, background .25s;
}
.glass-btn:hover{transform: translateY(-2px); box-shadow: 0 8px 24px rgba(0,0,0,0.5);}
.glass-btn.primary{
  background: rgba(255,255,255,0.18); 
  color: #000; 
  border:1px solid rgba(255,255,255,0.25);
}
.glass-btn.primary.paid{
  background: #00cc66; 
  color:#fff; 
  border:1px solid #00cc66;
}
.glass-btn.wa{
  background: #25D366; 
  color:#fff; 
  border:1px solid #1DA851;
}
.checkmark{
  display:inline-block;
  width:18px;
  height:18px;
  border-radius:50%;
  background:#000;
  mask: url('data:image/svg+xml;utf8,<svg viewBox="0 0 24 24" fill="white" xmlns="http://www.w3.org/2000/svg"><path d="M20.285 6.709l-11.025 11.025-5.57-5.57 1.414-1.414 4.156 4.155 9.611-9.612z"/></svg>') no-repeat center;
  mask-size: cover;
  margin-left:8px;
}
.payment-methods{margin-top:16px;}
.payment-methods p{margin-bottom:6px;}
.payment-methods button{margin-bottom:6px;}
#paymentInfo{margin-top:12px; display:none;}
#paymentInfo img{width:200px; border-radius:12px; margin-bottom:8px;}
#paymentInfo p{color:#fff; font-size:14px;}
</style>
</head>
<body>

<div class="card" id="summaryCard">
  <h2>Ringkasan Pesanan</h2>
  <img id="prodImg" src="" alt="Produk">
  <p><b>Model:</b> <span id="prodName"></span></p>
  <p><b>Storage:</b> <span id="prodStorage"></span></p>
  <p><b>Warna:</b> <span id="prodColor"></span></p>
  <p><b>Harga:</b> <span id="prodPrice"></span></p>
  <hr style="margin:12px 0; border-color: rgba(255,255,255,0.1)">
  <p><b>Nama:</b> <span id="custName"></span></p>
  <p><b>Alamat:</b> <span id="custAddress"></span></p>
  <p><b>Telepon:</b> <span id="custPhone"></span></p>
  <p><b>WhatsApp:</b> <span id="custWA"></span></p>

  <!-- Metode Pembayaran -->
  <div class="payment-methods" id="paymentMethods">
    <p><b>Pilih Metode Pembayaran:</b></p>
    <button class="glass-btn primary" onclick="selectPayment('QRIS')">QRIS</button>
    <button class="glass-btn primary" onclick="selectPayment('BRI')">BRI</button>
    <button class="glass-btn primary" onclick="selectPayment('SEABANK')">SEABANK</button>
    <button class="glass-btn primary" onclick="selectPayment('MANDIRI')">MANDIRI</button>
    <button class="glass-btn primary" onclick="selectPayment('DANA')">DANA</button>
    <button class="glass-btn primary" onclick="selectPayment('OVO')">OVO</button>
    <button class="glass-btn primary" onclick="selectPayment('GOPAY')">GOPAY</button>
  </div>

  <!-- QR / Rekening -->
  <div id="paymentInfo">
    <img id="qrisImg" src="" alt="QRIS">
    <p id="rekeningText"></p>
  </div>

  <!-- Tombol WA -->
  <a id="waButton" href="#" target="_blank" class="glass-btn wa">Konfirmasi via WhatsApp (kirim bukti pembayaran)</a>

  <!-- Tombol Sudah Dibayar -->
  <button id="paidButton" class="glass-btn primary">Sudah Dibayar</button>
</div>

<script>
let data = JSON.parse(localStorage.getItem('orderData')) || {};

if(data){
  document.getElementById('prodImg').src = data.img;
  document.getElementById('prodName').textContent = data.model;
  document.getElementById('prodStorage').textContent = data.storage;
  document.getElementById('prodColor').textContent = data.color;
  document.getElementById('prodPrice').textContent = 'Rp '+Number(data.price).toLocaleString('id-ID');
  document.getElementById('custName').textContent = data.nama;
  document.getElementById('custAddress').textContent = data.alamat;
  document.getElementById('custPhone').textContent = data.telepon;
  document.getElementById('custWA').textContent = data.wa;

  const nomorWA = "6281385371544";

  function updateWA(){
    const pesanWA = `Halo kak, saya sudah transfer untuk iPhone berikut.\n\nModel: ${data.model}\nStorage: ${data.storage}\nWarna: ${data.color}\nHarga: Rp ${Number(data.price).toLocaleString('id-ID')}\nMetode Pembayaran: ${data.payment || '-'}\n\nNama: ${data.nama}\nAlamat: ${data.alamat}\nTelepon: ${data.telepon}\nWhatsApp: ${data.wa}\n\nMohon konfirmasi dan saya sudah kirim bukti pembayaran. Terima kasih!`;
    document.getElementById('waButton').href = "https://wa.me/" + nomorWA + "?text=" + encodeURIComponent(pesanWA);
  }

  updateWA();

  function selectPayment(method){
    selectedPayment = method;
    data.payment = method;
    localStorage.setItem('orderData', JSON.stringify(data));
    updateWA();

    const paymentInfoDiv = document.getElementById('paymentInfo');
    const qrisImg = document.getElementById('qrisImg');
    const rekeningText = document.getElementById('rekeningText');

    paymentInfoDiv.style.display = 'block';

    switch(method){
      case 'QRIS':
        qrisImg.src = 'qris.png'; 
        rekeningText.textContent = 'Scan QRIS untuk pembayaran';
        break;
      case 'BRI':
        qrisImg.src = ''; 
        rekeningText.textContent = 'No. Rekening BRI: 1234567890 a.n. Nama Anda';
        break;
      case 'MANDIRI':
        qrisImg.src = ''; 
        rekeningText.textContent = 'No. Rekening Mandiri: 0987654321 a.n. Nama Anda';
        break;
      case 'SEABANK':
        qrisImg.src = ''; 
        rekeningText.textContent = 'No. Rekening SEABANK: 1122334455 a.n. Nama Anda';
        break;
      case 'DANA':
        qrisImg.src = '';
        rekeningText.textContent = 'Nomor DANA: 081234567890';
        break;
      case 'OVO':
        qrisImg.src = '';
        rekeningText.textContent = 'Nomor OVO: 081234567890';
        break;
      case 'GOPAY':
        qrisImg.src = '';
        rekeningText.textContent = 'Nomor GOPAY: 081234567890';
        break;
      default:
        qrisImg.src = '';
        rekeningText.textContent = '';
    }

    alert('Metode pembayaran dipilih: ' + method);
  }

  window.selectPayment = selectPayment;

  const paidBtn = document.getElementById('paidButton');
  paidBtn.addEventListener('click', ()=>{
    paidBtn.textContent = "Pembayaran Tercatat!";
    paidBtn.classList.add('paid');
    const check = document.createElement('span');
    check.className = 'checkmark';
    paidBtn.appendChild(check);
  });

}else{
  document.getElementById('summaryCard').innerHTML = '<p>Tidak ada data pesanan. Silakan kembali ke halaman pemesanan.</p>';
}
</script>

</body>
  </html>
